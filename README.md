:::thinking
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ—Å–∏—Ç –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –¥–≤–∞ README —Ñ–∞–π–ª–∞ –≤ –æ–¥–∏–Ω, –≥–¥–µ –∑–∞–ø—É—Å–∫ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ docker-compose. –£ –Ω–µ–≥–æ –µ—Å—Ç—å:
1. README –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ (React/Next.js) - –ø–æ–≥–æ–¥–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. README –¥–ª—è –±—ç–∫–µ–Ω–¥–∞ (FastAPI) - API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–≥–æ–¥—ã

–ù—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –µ–¥–∏–Ω—ã–π README, –∫–æ—Ç–æ—Ä—ã–π –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø–æ–ª–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ + –±—ç–∫–µ–Ω–¥), –∑–∞–ø—É—Å–∫–∞–µ–º–æ–µ —á–µ—Ä–µ–∑ docker-compose.
:::
# Weather Service - –ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –ø—Ä–æ–≥–Ω–æ–∑–∞ –ø–æ–≥–æ–¥—ã

–í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø—Ä–æ–≥–Ω–æ–∑–∞ –ø–æ–≥–æ–¥—ã, —Å–æ—Å—Ç–æ—è—â–µ–µ –∏–∑ React/Next.js —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –∏ FastAPI –±—ç–∫–µ–Ω–¥–∞. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–∫–∞—Ç—å –ø–æ–≥–æ–¥—É –ø–æ –≥–æ—Ä–æ–¥–∞–º, —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –∏—Å—Ç–æ—Ä–∏—é –ø–æ–∏—Å–∫–∞ –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∑–∞–ø—Ä–æ—Å–æ–≤.

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –§—Ä–æ–Ω—Ç–µ–Ω–¥ (React/Next.js)
- üîç –ü–æ–∏—Å–∫ –ø–æ–≥–æ–¥—ã –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –≥–æ—Ä–æ–¥–∞
- üìä –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π –ø–æ–≥–æ–¥—ã –∏ –ø–æ—á–∞—Å–æ–≤–æ–≥–æ –ø—Ä–æ–≥–Ω–æ–∑–∞ (–¥–æ 24 —á–∞—Å–æ–≤)
- üìà –ì—Ä–∞—Ñ–∏–∫ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã
- üïê –ò—Å—Ç–æ—Ä–∏—è –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 10 –ø–æ–∏—Å–∫–æ–≤
- üç™ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –≥–æ—Ä–æ–¥–∞ –∏ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ cookies
- üé® –ò–∫–æ–Ω–∫–∏ –ø–æ–≥–æ–¥–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π

### –ë—ç–∫–µ–Ω–¥ (FastAPI)
- üå°Ô∏è –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ –ø–æ–≥–æ–¥–µ —á–µ—Ä–µ–∑ Open-Meteo API
- üìç –ì–µ–æ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–æ–≤ —á–µ—Ä–µ–∑ Nominatim API
- üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ SQLite
- üìä –ü–æ–¥—Å—á–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –æ–±—Ä–∞—â–µ–Ω–∏–π –∫ –≥–æ—Ä–æ–¥–∞–º
- ‚ö° –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤
- üîÑ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ retry-–ª–æ–≥–∏–∫–∞

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
weather-service/
‚îú‚îÄ‚îÄ docker-compose.yml
‚îú‚îÄ‚îÄ frontend/
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ WeatherApp.jsx
‚îÇ   ‚îú‚îÄ‚îÄ package.json
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ backend/
    ‚îú‚îÄ‚îÄ Dockerfile
    ‚îú‚îÄ‚îÄ main.py
    ‚îú‚îÄ‚îÄ api/
    ‚îÇ   ‚îú‚îÄ‚îÄ services/
    ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ weather.py
    ‚îÇ   ‚îî‚îÄ‚îÄ base/
    ‚îÇ       ‚îî‚îÄ‚îÄ database_func.py
    ‚îî‚îÄ‚îÄ requirements.txt
```

## API Endpoints

### Backend API

1. **GET /**
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
   ```json
   {
     "message": "Weather API: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ POST /weather/{user_id} —Å {'city': '–ì–æ—Ä–æ–¥'}"
   }
   ```

2. **POST /weather/{user_id}**
   - –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–≥–æ–¥—ã –¥–ª—è –≥–æ—Ä–æ–¥–∞
   - –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:
   ```json
   {
     "city": "–ú–æ—Å–∫–≤–∞"
   }
   ```
   - –û—Ç–≤–µ—Ç:
   ```json
   {
     "city": "–ú–æ—Å–∫–≤–∞",
     "current": {
       "temperature": 21.5,
       "humidity": 50,
       "wind_speed": 3.2,
       "weather_code": 1
     },
     "hourly": {
       "temperature_2m": [...],
       "relative_humidity_2m": [...],
       "weather_code": [...],
       "wind_speed_10m": [...]
     }
   }
   ```

## –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Docker –∏ Docker Compose —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –Ω–∞ –≤–∞—à–µ–π —Å–∏—Å—Ç–µ–º–µ
- –ü–æ—Ä—Ç—ã 3000 (—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥) –∏ 8000 (–±—ç–∫–µ–Ω–¥) —Å–≤–æ–±–æ–¥–Ω—ã

### –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
   ```bash
   git clone https://github.com/GosMan270/GMWee_SERVICE.git
   cd GMWee_SERVICE
   ```

2. **–°–æ–∑–¥–∞–π—Ç–µ –∏–ª–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª `docker-compose.yml`:**
   ```yaml
   version: '3.8'

   services:
     backend:
       build:
         context: ./api_for_metio_site
         dockerfile: Dockerfile
       container_name: weather_backend
       ports:
         - "8000:8000"
       restart: unless-stopped
       volumes:
         - ./backend/data:/app/data

     frontend:
       build:
         context: ./metio_site
         dockerfile: Dockerfile
       container_name: weather_frontend
       ports:
         - "3000:3000"
       restart: unless-stopped
       depends_on:
         - backend
       environment:
         - NEXT_PUBLIC_API_URL=http://backend:8000
   ```

3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**
   ```bash
   docker-compose up --build
   ```

4. **–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:**
   - –§—Ä–æ–Ω—Ç–µ–Ω–¥: http://localhost:3000
   - API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: http://localhost:8000/docs

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose down

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å —É–¥–∞–ª–µ–Ω–∏–µ–º volumes (–¥–∞–Ω–Ω—ã—Ö)
docker-compose down -v
```

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Frontend
- **Next.js** - React —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **React** - UI –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
- **localStorage** - —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –ø–æ–∏—Å–∫–∞
- **Cookies** - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ user ID –∏ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –≥–æ—Ä–æ–¥–∞

### Backend
- **FastAPI** - –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **SQLite + aiosqlite** - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **aiohttp** - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ HTTP –∑–∞–ø—Ä–æ—Å—ã
- **openmeteo_requests** - –∫–ª–∏–µ–Ω—Ç –¥–ª—è Open-Meteo API
- **pandas** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- **Docker** - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- **Docker Compose** - –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

## –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü–∞ `users`
- `id` - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `last_city` - –ø–æ—Å–ª–µ–¥–Ω–∏–π –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—ã–π –≥–æ—Ä–æ–¥
- `timestamp` - –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∑–∞–ø—Ä–æ—Å–∞

### –¢–∞–±–ª–∏—Ü–∞ `sity` (cities)
- `city_name` - –Ω–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞
- `request_count` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### Frontend
- `NEXT_PUBLIC_API_URL` - URL –±—ç–∫–µ–Ω–¥–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: http://localhost:8000)

### Backend
- `DATABASE_URL` - –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: ./data/weather.db)
- `CORS_ORIGINS` - —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ origins –¥–ª—è CORS

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ –±–µ–∑ Docker

**Backend:**
```bash
cd backend
pip install -r requirements.txt
uvicorn main:app --reload --host 0.0.0.0 --port 8000
```

**Frontend:**
```bash
cd frontend
npm install
npm run dev
```

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### PowerShell
```powershell
Invoke-RestMethod -Uri "http://localhost:8000/weather/user123" `
                  -Method Post `
                  -ContentType "application/json" `
                  -Body '{"city": "–ú–æ—Å–∫–≤–∞"}'
```

### cURL
```bash
curl -X POST "http://localhost:8000/weather/user123" \
     -H "Content-Type: application/json" \
     -d '{"city": "–ú–æ—Å–∫–≤–∞"}'
```

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ (Roadmap)

- [x] Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- [x] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- [x] –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –≥–æ—Ä–æ–¥–∞–º
- [ ] –ê–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–∏ –≤–≤–æ–¥–µ –≥–æ—Ä–æ–¥–∞
- [ ] –≠–∫—Å–ø–æ—Ä—Ç –∏—Å—Ç–æ—Ä–∏–∏ –≤ CSV
- [ ] –ú–Ω–æ–≥–æ—è–∑—ã—á–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- [ ] Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø–æ–≥–æ–¥–µ
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ –ø–æ–≥–æ–¥–Ω—ã–º–∏ API

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

## –ê–≤—Ç–æ—Ä

GosMan270

---

–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö —Å–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.